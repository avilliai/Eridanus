"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[258],{70658:function(ue,O,e){e.r(O);var F=e(13769),$=e.n(F),z=e(5574),h=e.n(z),G=e(15009),_=e.n(G),V=e(97857),x=e.n(V),k=e(99289),f=e.n(k),Y=e(73801),H=e(2236),J=e(37476),L=e(5966),N=e(20040),m=e(2453),Q=e(4393),T=e(83622),X=e(17788),P=e(67294),R=e(2618),t=e(85893),q=["current","pageSize"],ee=function(){var Z=f()(_()().mark(function o(i){var d;return _()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,R.cn)(x()({},i));case 3:return d=a.sent,d.message?m.ZP.success(d.message):m.ZP.error(d.error),a.abrupt("return",!0);case 8:return a.prev=8,a.t0=a.catch(0),m.ZP.error("\u7F51\u7EDC\u9519\u8BEF"),a.abrupt("return",!1);case 12:case"end":return a.stop()}},o,null,[[0,8]])}));return function(i){return Z.apply(this,arguments)}}(),le=null,ie=null,re=function(){var o=(0,P.useState)(!1),i=h()(o,2),d=i[0],v=i[1],a=(0,P.useState)(!1),I=h()(a,2),oe=I[0],de=I[1],te=(0,P.useState)(!1),j=h()(te,2),ne=j[0],A=j[1],b=(0,P.useRef)(null),ae=(0,P.useState)(),U=h()(ae,2),u=U[0],W=U[1],se=(0,P.useState)([]),w=h()(se,2),g=w[0],_e=w[1],y=[{title:"\u7528\u6237id",dataIndex:"user_id",sorter:!0},{title:"\u6635\u79F0",dataIndex:"nickname",valueType:"textarea",search:!1},{title:"\u5361\u7247",dataIndex:"card",valueType:"textarea",search:!1,hideInTable:!0},{title:"\u6027\u522B",dataIndex:"sex",valueType:"textarea",search:!1,hideInTable:!0},{title:"\u5E74\u9F84",dataIndex:"age",valueType:"textarea",search:!1,hideInTable:!0},{title:"\u57CE\u5E02",dataIndex:"city",valueType:"textarea",search:!1,hideInTable:!0},{title:"\u6743\u9650\u7B49\u7EA7",dataIndex:"permission",sorter:!0,search:!1},{title:"\u6CE8\u518C\u65E5\u671F",dataIndex:"registration_date",valueType:"textarea",search:!1,hideInTable:!0},{title:"token\u7EDF\u8BA1",dataIndex:"ai_token_record",sorter:!0,search:!1},{title:"\u753B\u50CF\u66F4\u65B0\u65F6\u95F4",dataIndex:"portrait_update_time",valueType:"textarea",search:!1,hideInTable:!0},{title:"\u7528\u6237\u753B\u50CF",dataIndex:"user_portrait",valueType:"textarea",search:!1,hideInTable:!0},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(n,r){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("a",{onClick:function(){W(r),A(!0)},children:"\u8BE6\u7EC6\u4FE1\u606F"}),"\xA0\xA0\xA0\xA0",(0,t.jsx)("a",{onClick:function(){m.ZP.warning("\u529F\u80FD\u5F00\u53D1\u4E2D\uFF0C\u656C\u8BF7\u671F\u5F85")},children:"\u7F16\u8F91"})]})}}];return(0,t.jsxs)(Q.Z,{children:[(0,t.jsx)(Y.Z,{actionRef:b,rowKey:"user_id",request:function(){var s=f()(_()().mark(function n(r,l,p){var c,B,S,D,C,M,K;return _()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return c=r.current,B=r.pageSize,S=$()(r,q),D="",C="",l&&(M=Object.keys(l),M.length>0&&(D=M[0],C=l[D]==="ascend"?"asc":"desc")),E.next=6,(0,R.lE)(x()(x()(x()({current:c,pageSize:B},S),p),{},{sortBy:D,sortOrder:C}));case 6:return K=E.sent,E.abrupt("return",K);case 8:case"end":return E.stop()}},n)}));return function(n,r,l){return s.apply(this,arguments)}}(),columns:y,pagination:{position:["topLeft","bottomRight"]},rowSelection:{onChange:function(n,r){_e(r)}}}),(g==null?void 0:g.length)>0&&(0,t.jsxs)(H.S,{extra:(0,t.jsxs)("div",{children:["\u5DF2\u9009\u62E9"," ",(0,t.jsx)("a",{style:{fontWeight:600},children:g.length})," ","\u9879 \xA0\xA0"]}),children:[(0,t.jsx)(T.ZP,{onClick:f()(_()().mark(function s(){var n,r;return _()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:m.ZP.warning("\u529F\u80FD\u5F00\u53D1\u4E2D\uFF0C\u656C\u8BF7\u671F\u5F85"),(n=b.current)===null||n===void 0||(r=n.reloadAndRest)===null||r===void 0||r.call(n);case 2:case"end":return p.stop()}},s)})),children:"\u6279\u91CF\u5220\u9664"}),(0,t.jsx)(T.ZP,{type:"primary",onClick:function(){var n,r;m.ZP.warning("\u529F\u80FD\u5F00\u53D1\u4E2D\uFF0C\u656C\u8BF7\u671F\u5F85"),(n=b.current)===null||n===void 0||(r=n.reloadAndRest)===null||r===void 0||r.call(n)},children:"\u6279\u91CF\u4FEE\u6539"})]}),(0,t.jsxs)(J.Y,{title:"\u65B0\u5EFA\u7528\u6237",open:d,onOpenChange:v,onFinish:function(){var s=f()(_()().mark(function n(r){var l;return _()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,ee(r);case 2:l=c.sent,l&&(v(!1),b.current&&b.current.reload());case 4:case"end":return c.stop()}},n)}));return function(n){return s.apply(this,arguments)}}(),children:[(0,t.jsx)(L.Z,{rules:[{required:!0,message:"\u7528\u6237ID\u4E3A\u5FC5\u586B\u9879"}],width:"md",name:"user_id",label:"\u7528\u6237ID"}),(0,t.jsx)(L.Z,{rules:[{required:!0,message:"\u6635\u79F0\u4E3A\u5FC5\u586B\u9879"}],width:"md",name:"nickname",label:"\u6635\u79F0"}),(0,t.jsx)(L.Z,{width:"md",name:"city",label:"\u57CE\u5E02"}),(0,t.jsx)(L.Z,{width:"md",name:"permission",label:"\u6743\u9650\u7B49\u7EA7"})]}),(u==null?void 0:u.user_id)&&(0,t.jsx)(X.Z,{width:800,open:ne,title:"".concat(u==null?void 0:u.user_id,"  \u7684\u8BE6\u7EC6\u4FE1\u606F"),onCancel:function(){A(!1),setTimeout(function(){W(void 0)},300)},footer:null,children:(0,t.jsx)(N.vY,{column:2,request:f()(_()().mark(function s(){return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",{data:u||{}});case 1:case"end":return r.stop()}},s)})),params:{id:u==null?void 0:u.user_id},columns:y})})]})};O.default=re}}]);
